<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BillFinity • Sign in / Sign up</title>

  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
  <link rel="stylesheet" as="style" onload="this.rel='stylesheet'"
        href="https://fonts.googleapis.com/css2?display=swap&family=Inter:wght@400;500;600;700;800;900"/>

  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <script type="module" src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs"></script>
  <script nomodule src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.js"></script>

  <style>
    html, body { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
    .glass {
      background: radial-gradient(1200px 600px at -10% -10%, rgba(19,164,236,0.12), transparent 40%),
                  radial-gradient(800px 400px at 110% 10%, rgba(8,79,115,0.10), transparent 40%);
    }
    .card { box-shadow: 0 20px 60px rgba(2, 8, 23, 0.12); }
    .btn { transition: transform .04s ease; }
    .btn:active { transform: translateY(1px); }
    .divider { display:flex; align-items:center; gap:12px; color:#64748b; font-size:12px; }
    .divider::before, .divider::after { content:''; height:1px; flex:1; background: #e2e8f0; }
    /* Modal */
    .modal-backdrop { position: fixed; inset: 0; background: rgba(2,8,23,0.48); display:none; align-items:center; justify-content:center; padding:16px; z-index:50; }
    .modal { width: 100%; max-width: 520px; background:#fff; border:1px solid #e2e8f0; border-radius:16px; box-shadow:0 30px 80px rgba(2,8,23,.35); }
    .modal header { padding:16px 18px; border-bottom:1px solid #e2e8f0; font-weight:700; }
    .modal main { padding:16px 18px; color:#0f172a; }
    .modal footer { padding:14px 18px; border-top:1px solid #e2e8f0; display:flex; gap:10px; justify-content:flex-end; }
  </style>
</head>
<body class="min-h-screen glass bg-slate-50">
  <div class="min-h-screen grid grid-cols-1 lg:grid-cols-2">
    <!-- Visual / Lottie side -->
    <aside class="relative hidden lg:flex items-center justify-center overflow-hidden bg-gradient-to-br from-sky-50 to-cyan-50 border-r border-slate-200">
      <div class="absolute inset-0 pointer-events-none"
           style="background: radial-gradient(600px 300px at 80% 10%, rgba(20,184,166,0.10), transparent 40%);"></div>
      <div class="relative z-10 w-full max-w-xl px-8">
        <dotlottie-player
          src="assets/Talent Search.lottie"
          background="transparent"
          speed="1"
          autoplay
          loop
          style="width:100%;height:100%;"
          aria-label="BillFinity animation">
        </dotlottie-player>
        <div class="mt-4">
          <h2 class="text-3xl font-extrabold tracking-tight text-slate-900">Welcome to BillFinity</h2>
          <p class="mt-2 text-slate-600">Modern billing and invoicing built for speed, scale, and simplicity.</p>
        </div>
      </div>
    </aside>

    <!-- Auth card -->
    <main class="flex items-center justify-center p-6">
      <div class="w-full max-w-md">
        <a href="index.html" class="inline-flex items-center gap-2 text-slate-700">
          <span class="inline-flex h-10 w-10 items-center justify-center rounded-2xl bg-sky-500 text-white shadow">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-5 w-5">
              <path d="M12 2a10 10 0 1 0 10 10A10.011 10.011 0 0 0 12 2Zm1 15-4-4 1.414-1.414L13 13.172l4.586-4.586L19 10Z"/>
            </svg>
          </span>
          <span class="text-xl font-extrabold tracking-tight">BillFinity</span>
        </a>

        <div class="mt-6 rounded-2xl bg-white border border-slate-200 card p-6">
          <div class="flex items-center justify-between">
            <h1 id="auth-title" class="text-2xl font-bold text-slate-900">Sign in</h1>
            <button id="toggle-mode"
                    class="text-sm font-medium text-sky-700 hover:underline focus:outline-none">
              Create account
            </button>
          </div>

          <!-- Social -->
          <div class="mt-4">
            <button id="oauth-google" class="btn w-full rounded-xl border border-slate-200 bg-white px-4 py-2.5 text-slate-800 font-medium shadow-sm hover:bg-slate-50 focus:ring-2 focus:ring-sky-200 flex items-center justify-center gap-3" aria-label="Continue with Google">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" class="h-5 w-5" aria-hidden="true">
                <path fill="#FFC107" d="M43.6 20.5H42v-.1H24v7.2h11.3C33.8 31.7 29.4 35 24 35a11 11 0 1 1 0-22 10.8 10.8 0 0 1 7.6 3.1l5.1-5.1A18.3 18.3 0 0 0 24 5.4a18.6 18.6 0 1 0 0 37.2c9.3 0 17.1-6.7 18.6-15.4v-6.7z"/>
                <path fill="#FF3D00" d="M6.3 14.7l5.9 4.3A11 11 0 0 1 24 13c3 0 5.7 1.1 7.8 2.9l5.8-5.8A18.6 18.6 0 0 0 24 5.4c-7.5 0-14 4.3-17.7 10.6z"/>
                <path fill="#4CAF50" d="M24 43.2c5.2 0 9.9-2 13.3-5.2l-6.1-5a11 11 0 0 1-16.3-5.7l-6.2 4.8C11.5 38.1 17.3 43.2 24 43.2z"/>
                <path fill="#1976D2" d="M43.6 20.5H42v-.1H24v7.2h11.3c-1.2 3.2-3.7 5.7-6.9 7.1l6.1 5c3.5-3.2 5.9-7.9 5.9-13.8 0-1.4-.1-2.8-.4-4z"/>
              </svg>
              Continue with Google
            </button>
            <div class="mt-3 divider"><span>or</span></div>
          </div>

          <form id="auth-form" class="mt-5 space-y-4" novalidate>
            <div id="name-field" class="hidden">
              <label for="name" class="block text-sm font-medium text-slate-700">Full name</label>
              <input type="text" id="name" name="name"
                     class="mt-1 w-full rounded-xl border-slate-200 bg-slate-50/70 text-slate-700 focus:ring-sky-200"
                     placeholder="Your name"/>
            </div>

            <div>
              <label for="email" class="block text-sm font-medium text-slate-700">Email</label>
              <input type="email" id="email" name="email" autocomplete="email" required
                     class="mt-1 w-full rounded-xl border-slate-200 bg-slate-50/70 text-slate-700 focus:ring-sky-200"
                     placeholder="you@company.com"/>
            </div>

            <div>
              <div class="flex items-center justify-between">
                <label for="password" class="block text-sm font-medium text-slate-700">Password</label>
                <button type="button" id="toggle-password" class="text-xs text-slate-600 hover:underline">Show</button>
              </div>
              <input type="password" id="password" name="password" autocomplete="current-password" required
                     class="mt-1 w-full rounded-xl border-slate-200 bg-slate-50/70 text-slate-700 focus:ring-sky-200"
                     placeholder="••••••••"/>
              <p class="mt-1 text-xs text-slate-500">Use 8+ characters with a mix of letters and numbers.</p>
            </div>

            <div id="terms-field" class="hidden">
              <label class="inline-flex items-center gap-2 text-sm text-slate-700">
                <input type="checkbox" id="terms" class="h-4 w-4 rounded border-slate-300"/>
                I agree to the <a href="privacy.html" class="text-sky-700 underline" target="_blank" rel="noopener">Privacy Policy</a> and Terms.
              </label>
            </div>

            <div class="flex items-center justify-between">
              <label class="inline-flex items-center gap-2 text-sm text-slate-700">
                <input type="checkbox" id="remember" class="h-4 w-4 rounded border-slate-300"/>
                Remember me
              </label>
              <a href="#" class="text-sm text-sky-700 hover:underline">Forgot password?</a>
            </div>

            <button type="submit"
                    class="btn w-full rounded-xl bg-sky-600 px-4 py-2.5 text-white font-semibold shadow hover:bg-sky-700 focus:ring-2 focus:ring-sky-200">
              Continue
            </button>
          </form>

          <div id="auth-toast" class="mt-4 space-y-2"></div>
        </div>

        <p class="mt-6 text-center text-xs text-slate-500">
          © 2025 BillFinity. All rights reserved. • Need help? <a class="text-sky-700 underline" href="mailto:info@th3ai.com">info@th3ai.com</a>
        </p>
      </div>
    </main>
  </div>

  <!-- Pre-signup Privacy Consent Modal -->
  <div id="consent-backdrop" class="modal-backdrop" role="dialog" aria-modal="true" aria-labelledby="consent-title">
    <div class="modal" role="document">
      <header id="consent-title">Privacy Policy Consent</header>
      <main>
        <p class="text-sm text-slate-700">
          Before creating your BillFinity account, please review and consent to our
          <a class="text-sky-700 underline" href="privacy.html" target="_blank" rel="noopener">Privacy Policy</a>.
        </p>
        <label class="mt-3 inline-flex items-start gap-2 text-sm text-slate-800">
          <input type="checkbox" id="consent-checkbox" class="mt-1 h-4 w-4 rounded border-slate-300"/>
          <span>I have read and agree to the Privacy Policy and consent to the processing of my data to create an account.</span>
        </label>
      </main>
      <footer>
        <button id="consent-cancel" class="btn rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium hover:bg-slate-50">Cancel</button>
        <button id="consent-accept" class="btn rounded-lg bg-sky-600 px-3 py-2 text-sm font-semibold text-white hover:bg-sky-700 disabled:opacity-50" disabled>Accept & Continue</button>
      </footer>
    </div>
  </div>

  <script defer src="auth.js"></script>
</body>
</html>
